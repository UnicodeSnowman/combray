<section>

  <%= render partial: 'shared/form_errors', :locals => { instance: @item } %>

  <%= form_for [:admin, @item], html: { multipart: true } do |f| %>

    <p>
      <%= f.label :code %><br />
      <%= f.text_field :code %>
    </p>
    <p>
      <%= f.label :name %><br />
      <%= f.text_field :name %>
    </p>
    <p>
      <%= f.label :description %><br />
      <%= f.text_area :description %>
    </p>
    <p>
      <%= f.label :subcategory %><br /> 
      <%= f.select(:subcategory_id, Subcategory.all.map { |subcategory| [subcategory.category.name + " : " + subcategory.name, subcategory.id] }) %><br /> 
    </p>
    <p>
      <%= f.label :size %><br />
      <%= f.text_field :size %>
    </p>
    <p>
      <%= f.label :year %><br />
      <%= f.text_field :year %>
    </p>
    <p>
      <%= f.label :origin %><br />
      <%= f.text_field :origin %>
    </p>
    <p>
      <%= f.label :photo, 'Photos' %><br />
      <%= f.file_field :photo %>
    </p>
  
    <% if @item.photo.present? %>
      <div class="photo">
        <p>
          <% link_to File.basename(@item.photo.path), @item.photo.url %> 
        </p>
      </div>

    <% end %>

    <%= f.submit %>

  <% end %>
</section>
